<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>Backbox Communication Protocol (BCP) Server for Unity: BcpServer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Backbox Communication Protocol (BCP) Server for Unity
   &#160;<span id="projectnumber">1.02</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_bcp_server.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#properties">Properties</a> &#124;
<a href="class_bcp_server-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">BcpServer Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Singleton BCP Server class. Manages the socket server to send and receive BCP messages.  
 <a href="class_bcp_server.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for BcpServer:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_bcp_server.png" usemap="#BcpServer_map" alt=""/>
  <map id="BcpServer_map" name="BcpServer_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a71244d6917fbb7e1a644c9a88168dd72"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bcp_server.html#a71244d6917fbb7e1a644c9a88168dd72">OnDisable</a> ()</td></tr>
<tr class="memdesc:a71244d6917fbb7e1a644c9a88168dd72"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when the script instance is disabled.  <a href="#a71244d6917fbb7e1a644c9a88168dd72">More...</a><br /></td></tr>
<tr class="separator:a71244d6917fbb7e1a644c9a88168dd72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80ed570c35f140036ff0bd126cba7b68"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bcp_server.html#a80ed570c35f140036ff0bd126cba7b68">Init</a> (int port)</td></tr>
<tr class="memdesc:a80ed570c35f140036ff0bd126cba7b68"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the BCP server and launches a reader worker thread to receive message from the MPF pin controller.  <a href="#a80ed570c35f140036ff0bd126cba7b68">More...</a><br /></td></tr>
<tr class="separator:a80ed570c35f140036ff0bd126cba7b68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb3f7a3a3ca93268f5e7ba9ce627a2fa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bcp_server.html#adb3f7a3a3ca93268f5e7ba9ce627a2fa">Close</a> ()</td></tr>
<tr class="memdesc:adb3f7a3a3ca93268f5e7ba9ce627a2fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes the BCP Server.  <a href="#adb3f7a3a3ca93268f5e7ba9ce627a2fa">More...</a><br /></td></tr>
<tr class="separator:adb3f7a3a3ca93268f5e7ba9ce627a2fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a952d943ea3f398b687c051c1c30a7973"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bcp_server.html#a952d943ea3f398b687c051c1c30a7973">Send</a> (<a class="el" href="class_bcp_message.html">BcpMessage</a> message)</td></tr>
<tr class="memdesc:a952d943ea3f398b687c051c1c30a7973"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends the specified BCP message to the MPF pin controller.  <a href="#a952d943ea3f398b687c051c1c30a7973">More...</a><br /></td></tr>
<tr class="separator:a952d943ea3f398b687c051c1c30a7973"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a585e498857653601bba8c20f79f385b8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bcp_server.html#a585e498857653601bba8c20f79f385b8">SendDmdFrame</a> (byte[] frameData)</td></tr>
<tr class="memdesc:a585e498857653601bba8c20f79f385b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a DMD frame to the MPF pin controller to be output to hardware.  <a href="#a585e498857653601bba8c20f79f385b8">More...</a><br /></td></tr>
<tr class="separator:a585e498857653601bba8c20f79f385b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a70f8914d3f207c7a7b1933d8d6c08299"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bcp_server.html#a70f8914d3f207c7a7b1933d8d6c08299">CONTROLLER_VERSION</a> = &quot;1.02-dev3&quot;</td></tr>
<tr class="memdesc:a70f8914d3f207c7a7b1933d8d6c08299"><td class="mdescLeft">&#160;</td><td class="mdescRight">The BCP Server version  <a href="#a70f8914d3f207c7a7b1933d8d6c08299">More...</a><br /></td></tr>
<tr class="separator:a70f8914d3f207c7a7b1933d8d6c08299"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0dea8474b12a9828b62ddce32d787443"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bcp_server.html#a0dea8474b12a9828b62ddce32d787443">CONTROLLER_NAME</a> = &quot;Unity Media Controller&quot;</td></tr>
<tr class="memdesc:a0dea8474b12a9828b62ddce32d787443"><td class="mdescLeft">&#160;</td><td class="mdescRight">The BCP Server name  <a href="#a0dea8474b12a9828b62ddce32d787443">More...</a><br /></td></tr>
<tr class="separator:a0dea8474b12a9828b62ddce32d787443"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8d8ee79cc7322e718edd528188c7c16"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bcp_server.html#ab8d8ee79cc7322e718edd528188c7c16">BCP_SPECIFICATION_VERSION</a> = &quot;1.00&quot;</td></tr>
<tr class="memdesc:ab8d8ee79cc7322e718edd528188c7c16"><td class="mdescLeft">&#160;</td><td class="mdescRight">The BCP Specification document version implemented  <a href="#ab8d8ee79cc7322e718edd528188c7c16">More...</a><br /></td></tr>
<tr class="separator:ab8d8ee79cc7322e718edd528188c7c16"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="properties"></a>
Properties</h2></td></tr>
<tr class="memitem:ada86e65c7b14c7e35ae913124deaab00"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_bcp_server.html">BcpServer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bcp_server.html#ada86e65c7b14c7e35ae913124deaab00">Instance</a><code> [get]</code></td></tr>
<tr class="memdesc:ada86e65c7b14c7e35ae913124deaab00"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the static singleton object instance.  <a href="#ada86e65c7b14c7e35ae913124deaab00">More...</a><br /></td></tr>
<tr class="separator:ada86e65c7b14c7e35ae913124deaab00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acaaac4c625c95ab45e027113fe6f912a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bcp_server.html#acaaac4c625c95ab45e027113fe6f912a">ClientConnected</a><code> [get]</code></td></tr>
<tr class="memdesc:acaaac4c625c95ab45e027113fe6f912a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a value indicating whether a client is currently connected.  <a href="#acaaac4c625c95ab45e027113fe6f912a">More...</a><br /></td></tr>
<tr class="separator:acaaac4c625c95ab45e027113fe6f912a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Singleton BCP Server class. Manages the socket server to send and receive BCP messages. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="adb3f7a3a3ca93268f5e7ba9ce627a2fa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BcpServer.Close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Closes the BCP Server. </p>

</div>
</div>
<a class="anchor" id="a80ed570c35f140036ff0bd126cba7b68"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BcpServer.Init </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the BCP server and launches a reader worker thread to receive message from the MPF pin controller. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>The port to listen on.</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a71244d6917fbb7e1a644c9a88168dd72"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BcpServer.OnDisable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called when the script instance is disabled. </p>

</div>
</div>
<a class="anchor" id="a952d943ea3f398b687c051c1c30a7973"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BcpServer.Send </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_bcp_message.html">BcpMessage</a>&#160;</td>
          <td class="paramname"><em>message</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends the specified BCP message to the MPF pin controller. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>The BCP message.</td></tr>
  </table>
  </dd>
</dl>
<p>This function is called by the main Unity thread and does not run in its own thread. It will block the rest of the application while sending (should be a quick process unless MPF client has a communication failure). </p>

</div>
</div>
<a class="anchor" id="a585e498857653601bba8c20f79f385b8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BcpServer.SendDmdFrame </td>
          <td>(</td>
          <td class="paramtype">byte[]&#160;</td>
          <td class="paramname"><em>frameData</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends a DMD frame to the MPF pin controller to be output to hardware. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frameData</td><td>The DMD frame data (must be 4096 bytes).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>
<p>Used by the media controller to send a DMD frame to the pin controller which the pin controller displays on the physical DMD. Note that this command does not used named parameters, rather, the data is sent after the command, like this: dmd_frame?&lt;raw byte="" string&gt;=""&gt; This command is a special one in that it’s sent with ASCII encoding instead of UTF-8. The data is a raw byte string that is exactly 4096 bytes. (1 bytes per pixel, 128×32 DMD resolution = 4096 pixels.) The 4 low bits of each byte are the intensity (0-15), and the 4 high bits are ignored. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="ab8d8ee79cc7322e718edd528188c7c16"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const string BcpServer.BCP_SPECIFICATION_VERSION = &quot;1.00&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The BCP Specification document version implemented </p>

</div>
</div>
<a class="anchor" id="a0dea8474b12a9828b62ddce32d787443"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const string BcpServer.CONTROLLER_NAME = &quot;Unity Media Controller&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The BCP Server name </p>

</div>
</div>
<a class="anchor" id="a70f8914d3f207c7a7b1933d8d6c08299"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const string BcpServer.CONTROLLER_VERSION = &quot;1.02-dev3&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The BCP Server version </p>

</div>
</div>
<h2 class="groupheader">Property Documentation</h2>
<a class="anchor" id="acaaac4c625c95ab45e027113fe6f912a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool BcpServer.ClientConnected</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets a value indicating whether a client is currently connected. </p>
<p><code>true</code> if a client is currently connected; otherwise, <code>false</code>. </p>

</div>
</div>
<a class="anchor" id="ada86e65c7b14c7e35ae913124deaab00"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_bcp_server.html">BcpServer</a> BcpServer.Instance</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">get</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the static singleton object instance. </p>
<p>The instance. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>BcpServer.cs</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_bcp_server.html">BcpServer</a></li>
    <li class="footer">Generated on Tue Oct 6 2015 16:57:13 for Backbox Communication Protocol (BCP) Server for Unity by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
